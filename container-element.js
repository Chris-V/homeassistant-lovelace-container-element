var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t="[^\\s]+",n=/\[([^]*?)\]/gm;function r(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}var i=function(e){return function(t,n){var r=n[e].map((function(e){return e.toLowerCase()})).indexOf(t.toLowerCase());return r>-1?r:null}};function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var s in o)e[s]=o[s]}return e}var s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],u=r(a,3),c={dayNamesShort:r(s,3),dayNames:s,monthNamesShort:u,monthNames:a,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},l=o({},c),m=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},h={D:function(e){return String(e.getDate())},DD:function(e){return m(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return m(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return m(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return m(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return m(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return m(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return m(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return m(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return m(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return m(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return m(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+m(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+m(Math.floor(Math.abs(t)/60),2)+":"+m(Math.abs(t)%60,2)}},f=function(e){return+e-1},d=[null,"[1-9]\\d?"],g=[null,t],p=["isPm",t,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],y=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],M=(i("monthNamesShort"),i("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"});var v=function(t,r,i){if(void 0===r&&(r=M.default),void 0===i&&(i={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var s=[];r=(r=M[r]||r).replace(n,(function(e,t){return s.push(t),"@@@"}));var a=o(o({},l),i);return(r=r.replace(e,(function(e){return h[e](t,a)}))).replace(/@@@/g,(function(){return s.shift()}))},D=(function(){try{(new Date).toLocaleDateString("i")}catch(e){return"RangeError"===e.name}}(),function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}}(),function(){try{(new Date).toLocaleTimeString("i")}catch(e){return"RangeError"===e.name}}(),new Set(["call-service","divider","section","weblink","cast","select"])),S={alert:"toggle",automation:"toggle",climate:"climate",cover:"cover",fan:"toggle",group:"group",input_boolean:"toggle",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",remote:"toggle",scene:"scene",script:"script",sensor:"sensor",timer:"timer",switch:"toggle",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime"},Y=function(e,t){void 0===t&&(t=!1);var n=function(e,t){return r("hui-error-card",{type:"error",error:e,config:t})},r=function(e,t){var r=window.document.createElement(e);try{r.setConfig(t)}catch(r){return console.error(e,r),n(r.message,t)}return r};if(!e||"object"!=typeof e||!t&&!e.type)return n("No type defined",e);var i=e.type;if(i&&i.startsWith("custom:"))i=i.substr("custom:".length);else if(t)if(D.has(i))i="hui-"+i+"-row";else{if(!e.entity)return n("Invalid config given.",e);var o=e.entity.split(".",1)[0];i="hui-"+(S[o]||"text")+"-entity-row"}else i="hui-"+i+"-card";if(customElements.get(i))return r(i,e);var s=n("Custom element doesn't exist: "+e.type+".",e);s.style.display="None";var a=setTimeout((function(){s.style.display=""}),2e3);return customElements.whenDefined(e.type).then((function(){clearTimeout(a),function(e,t,n,r){r=r||{},n=null==n?{}:n;var i=new Event(t,{bubbles:void 0===r.bubbles||r.bubbles,cancelable:Boolean(r.cancelable),composed:void 0===r.composed||r.composed});i.detail=n,e.dispatchEvent(i)}(s,"ll-rebuild",{},s)})),s};customElements.define("container-element",class extends HTMLElement{constructor(){super(),this._hass=void 0,this._config={},this._container=void 0,this._elements=[]}setConfig(e){this._config=e,Array.isArray(e.elements)||(this._config.elements=[]),this.updateContainerStyle(),this.clearChildren(),this._elements=this.createChildren(this._config.elements),this.refreshChildren()}updateContainerStyle(){this.removeAttribute("style"),this.style.transform="none",this.applyStyleProperties(this,this._config.style||{})}set hass(e){this._hass=e,this.refreshChildren()}clearChildren(){this._elements.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)})),this._elements=[]}createChildren(e){return this._config.elements.map((e=>this.createChild(e)))}createChild(e){if("object"!=typeof e||!e.type)throw Error('Invalid element. Missing "type" property.');const t=0===e.type.indexOf("custom:")?e.type:`custom:hui-${e.type}-element`,n=Y({...e,type:t});return n.classList.add("element"),this.applyStyleProperties(n,e.style||{}),n}applyStyleProperties(e,t){Object.entries(t).forEach((([t,n])=>{e.style.setProperty(t,n)}))}refreshChildren(){this._hass&&this._elements.forEach((e=>{e.hass=this._hass,e.parentElement||this.appendChild(e)}))}});
